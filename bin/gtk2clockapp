#!/usr/bin/env ruby
require 'rubygems'
gem 'gtk2applib', '~> 7'
require 'gtk2applib'

program = Gtk2AppLib::Program.new( {
        :name           => 'Gtk2ClockApp',
        :tooltip        => 'Clock',
        :icon_name      => 'Clock',
        :FILE           => __FILE__,
        :lock           => "Proceed anyways?",
        } )

about = {
        :authors        => ['carlosjhr64@gmail.com'],
        :website        => 'http://ruby-gnome-apps.blogspot.com/search/label/Clock',
        :website_label  => 'Ruby-Gnome Apps',
        :license        => 'GPL',
        :copyright      => '2010-08-02 10:26:30',
        }

program.window(about) do |window|
  include Gtk2AppLib
begin

  window.modify_bg(Gtk::STATE_NORMAL, Configuration::BACKGROUND_COLOR)

  require 'gtk2clockapp'
  fixed = Gtk2ClockApp::Fixed.new( window )

  Gtk.timeout_add(Configuration::UPDATE_TIME){ fixed.update }
rescue Exception
Gtk2AppLib.puts_bang!
end
end

program.finalize
